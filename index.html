<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scouting App</title>
    <link rel="stylesheet" href="node_modules/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="node_modules/onsenui/css/onsen-css-components.css">
    <script src="node_modules/onsenui/js/onsenui.js"></script>
    <link rel="stylesheet" href="node_modules/font-awesome-animation/dist/font-awesome-animation.min.css">
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <script src="main.js"></script>
</head>

<body>
<ons-navigator id="appNavigator" swipeable swipe-target-width="80px">
    <ons-page>
        <ons-splitter id="appSplitter">
            <ons-splitter-content page="tabbar.html"></ons-splitter-content>
        </ons-splitter>
    </ons-page>
</ons-navigator>


<!-- START SUMANTH FIREBASE CODE-->


<!-- END SUMANTH FIREBASE CODE-->

<template id="tabbar.html">
    <ons-page id="tabbar-page">
        <ons-toolbar>
            <div class="center">Home</div>
        </ons-toolbar>
        <ons-tabbar swipeable id="appTabbar" position="auto">
            <ons-tab label="Home" icon="ion-home" page="home.html" active></ons-tab>
            <ons-tab label="View Teams" icon="ion-edit" page="teams.html"></ons-tab>
        </ons-tabbar>

        <script>
            ons.getScriptPage().addEventListener('prechange', function (event) {
                if (event.target.matches('#appTabbar')) {
                    event.currentTarget.querySelector('ons-toolbar .center').innerHTML = event.tabItem.getAttribute('label');
                }
            });
        </script>
    </ons-page>
</template>

<template id="teams.html">
    <ons-page>
        <p>teams</p>
    </ons-page>
</template>

<!-- this just gets all the info from bluealliance-->
<template id="home.html">
    <ons-page id="home">
        <ons-toolbar>
            <div class="center" style="margin-top: 5px"><ons-search-input class="center"></ons-search-input></div>
        </ons-toolbar>
        <ons-list id="teams-list">
        </ons-list>
    </ons-page>
</template>

<template id="team-scout.html">
    <ons-page id="team-scout" class="scout-page">
        <ons-toolbar>
            <div class="left"><ons-back-button>Home</ons-back-button></div>
            <div class="center" id="team-title"></div>
        </ons-toolbar>
        <h2 style="text-align: center;">Team Scouting</h2>
        <div id="intro-btns" class="btns">
            <ons-card id="match" modifier="large">
                <div class="title">Match</div>
                <div class="content">When scouting for a real match</div>
            </ons-card>
            <ons-card id="pit" modifier="large">
                <div class="title">Pit</div>
                <div class="content">Simply asking questions</div>
            </ons-card>
        </div>
    </ons-page>
</template>

<template id="match-scout.html">
    <ons-page id="match-scout" class="scout-page">
        <ons-toolbar>
            <div class="left"><ons-back-button>Team</ons-back-button></div>
            <div class="center" id="team-title"></div>
        </ons-toolbar>
        <h2>Team <span id="team-num"></span> - <span id="team-name"></span></h2>
        <div id="match-btns" class="btns">
            <div id="autonomous" style="padding: 5px;">
                <h3>Autonomous</h3>
                Choose target:<br />
                <div id="auto-target">
                    <ons-button modifier="large" data-target="0">Switch (Same side)</ons-button>
                    <ons-button modifier="large" data-target="1">Switch (Cross side)</ons-button>
                    <ons-button modifier="large" data-target="2">Scale (Same side)</ons-button>
                    <ons-button modifier="large" data-target="3">Scale (Cross side)</ons-button>
                    <ons-button modifier="large" data-target="4">Drive across line</ons-button>
                </div>
                <div id="auto-target-result">
                    <ons-button disabled>Success</ons-button>
                    <ons-button disabled>Failure</ons-button>
                </div>
            </div>
        </div>
    </ons-page>
</template>

<template id="pit-scout.html">
    <ons-page id="pit-scout" class="scout-page">
        <ons-toolbar>
            <div class="left"><ons-back-button>Team</ons-back-button></div>
            <div class="center" id="team-title"></div>
        </ons-toolbar>
        <h2>Team <span id="team-num"></span> - <span id="team-name"></span></h2>
        <div id="pit-btns" style="" class="btns">
        </div>
    </ons-page>
</template>

<style>
    ons-splitter-side[animation=overlay] {
        border-left: 1px solid #bbb;
    }
    #team-scout ons-card .title {
        font-size: xx-large;
    }
    #team-scout ons-card .content {
        font-size: large;
    }
    .scout-page h2 {
        text-align: center;
    }
    .scout-page .btns {
        text-align: center;
        margin-top: 20px;
        padding: 0.1em;
    }
    .scout-page ons-button {
        margin: 6px;
    }
    .scout-page ons-button.chosen {
        background-color: #025aa5;
    }
</style>

<script>
    window.fn = {};

    window.fn.toggleMenu = function () {
        document.getElementById('appSplitter').right.toggle();
    };

    window.fn.loadView = function (index) {
        document.getElementById('appTabbar').setActiveTab(index);
        document.getElementById('sidemenu').close();
    };

    window.fn.loadLink = function (url) {
        window.open(url, '_blank');
    };

    window.fn.pushPage = function (page, anim) {
        if (anim) {
            document.getElementById('appNavigator').pushPage(page.id, {data: {title: page.title}, animation: anim});
        } else {
            document.getElementById('appNavigator').pushPage(page.id, {data: {title: page.title}});
        }
    };
</script>

</body>
</html>
