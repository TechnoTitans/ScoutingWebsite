<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Scouting App</title>
    <link rel="stylesheet" href="node_modules/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="node_modules/onsenui/css/onsen-css-components.css">
    <script src="node_modules/onsenui/js/onsenui.js"></script>
    <link rel="stylesheet" href="node_modules/font-awesome-animation/dist/font-awesome-animation.min.css">
    <script src="node_modules/axios/dist/axios.min.js"></script>
    <script src="main.js"></script>
</head>

<body>
<ons-navigator id="appNavigator" swipeable swipe-target-width="80px">
    <ons-page>
        <ons-splitter id="appSplitter">
            <ons-splitter-content page="tabbar.html"></ons-splitter-content>
        </ons-splitter>
    </ons-page>
</ons-navigator>


<!-- START SUMANTH FIREBASE CODE-->


<!-- END SUMANTH FIREBASE CODE-->

<template id="tabbar.html">
    <ons-page id="tabbar-page">
        <ons-toolbar>
            <div class="center">Home</div>
        </ons-toolbar>
        <ons-tabbar swipeable id="appTabbar" position="auto">
            <ons-tab label="Home" icon="ion-home" page="home.html" active></ons-tab>
            <ons-tab label="View Teams" icon="ion-edit" page="teams.html"></ons-tab>
        </ons-tabbar>

        <script>
            ons.getScriptPage().addEventListener('prechange', function (event) {
                if (event.target.matches('#appTabbar')) {
                    event.currentTarget.querySelector('ons-toolbar .center').innerHTML = event.tabItem.getAttribute('label');
                }
            });
        </script>
    </ons-page>
</template>

<template id="teams.html">
    <ons-page>
        <p>teams</p>
    </ons-page>
</template>

<!-- this just gets all the info from bluealliance-->
<template id="home.html">
    <ons-page id="home">
        <ons-toolbar>
            <div class="center" style="margin-top: 5px"><ons-search-input class="center"></ons-search-input></div>
        </ons-toolbar>
        <div id="loading" style="text-align: center; margin: 10px 0px;"><ons-icon id="loading-icon" size="22px" spin="true" icon="fa-spinner"></ons-icon></div>
        <ons-list id="teams-list">            
            
        </ons-list>
    </ons-page>
</template>

<template id="team-scout.html">
    <ons-page id="team-scout" class="scout-page">
        <ons-toolbar>
            <div class="left"><ons-back-button>Home</ons-back-button></div>
            <div class="center" id="team-title"></div>
        </ons-toolbar>
        <h2 style="text-align: center;">Team Scouting</h2>
        <div id="intro-btns" class="btns">
            <ons-card id="match" modifier="large">
                <div class="title">Match</div>
                <div class="content">When scouting for a real match</div>
            </ons-card>
            <ons-card id="pit" modifier="large">
                <div class="title">Pit</div>
                <div class="content">Simply asking questions</div>
            </ons-card>
        </div>
    </ons-page>
</template>

<template id="match-scout.html">
    <ons-page id="match-scout" class="scout-page">
        <ons-toolbar>
            <div class="left"><ons-back-button></ons-back-button></div>
            <div class="center" id="team-title">Team <span id="team-num"></span> Match Scouting</span></div>
            
        </ons-toolbar>
        <h2 id="team-name"></h2>
        <div id="match-btns" class="btns">
            <div style="padding: 5px;">
            <div id="autonomous">
                <h3>Autonomous</h3>
                Choose target:<br />
                <div id="auto-target" class="btn-select-menu">
                    <ons-button modifier="large" data-select="0">Switch (Same side)</ons-button>
                    <ons-button modifier="large" data-select="1">Switch (Cross side)</ons-button>
                    <ons-button modifier="large" data-select="2">Scale (Same side)</ons-button>
                    <ons-button modifier="large" data-select="3">Scale (Cross side)</ons-button>
                    <ons-button modifier="large" data-select="4">Drive across line</ons-button>
                </div>
                <div id="auto-target-result" class="btn-select-menu">
                    <ons-button disabled data-select="1">Success</ons-button>
                    <ons-button disabled data-select="0">Failure</ons-button>
                </div>
            </div>
            <hr />
            <div id="teleop">
                <h3>Teleoperated</h3>
                <div id="teleop-run">
                    <p id="teleop-switch">Switch blocks:<br/>
                        <ons-button class="minus">-</ons-button>
                        <ons-input type="number" value="0" min="0"></ons-input>
                        <ons-button class="plus">+</ons-button>
                    </p>
                    <p id="teleop-scale">Scale blocks:<br/>
                        <ons-button class="minus">-</ons-button>
                        <ons-input type="number" value="0" min="0"></ons-input>
                        <ons-button class="plus">+</ons-button>
                    </p>
                    <p id="teleop-vault">Vault blocks:<br />
                        <ons-button class="minus">-</ons-button>
                        <ons-input type="number" value="0" min="0"></ons-input>
                        <ons-button class="plus">+</ons-button>
                    </p>
                </div>
            </div>
            <hr />
            <textarea placeholder="Comments (optional)"></textarea>
            <ons-button id="submit-match">Submit</ons-button>
            </div>
        </div>
    </ons-page>
</template>

<template id="pit-scout.html">
    <ons-page id="pit-scout" class="scout-page">
        <ons-toolbar>
            <div class="left"><ons-back-button>Team</ons-back-button></div>
            <div class="center" id="team-title"></div>
        </ons-toolbar>
        <h2>Team <span id="team-num"></span> - <span id="team-name"></span></h2>
        <div id="pit-btns" style="" class="btns">
        </div>
    </ons-page>
</template>

<style>
    ons-splitter-side[animation=overlay] {
        border-left: 1px solid #bbb;
    }
    #team-scout ons-card .title {
        font-size: xx-large;
    }
    #team-scout ons-card .content {
        font-size: large;
    }
    .scout-page h2 {
        text-align: center;
    }
    .scout-page .btns {
        text-align: center;
        margin-top: 20px;
        padding: 0.1em;
    }
    .scout-page ons-button {
        margin: 11px 6px;
    }
    .scout-page ons-button.chosen {
        background-color: #025aa5;
    }
    .scout-page textarea {
        padding: 6px 12px;
        font-size: 14px;
        width: -webkit-fill-available;
        width: -moz-fill-available;
        border-radius: 4px;
        height: 5em;
    }
    .scout-page textarea:focus {
        box-shadow: 0 0 5px rgba(81, 203, 238, 1);
        border: 1px solid rgba(81, 203, 238, 1);
    }
    .scout-page .button--large {
        width: auto;
        display: block;
    }
    .scout-page #teleop-run p {
        margin: 20px;    
    }
    .scout-page #teleop-run .text-input {
        text-align: center;
        font-size: x-large;    
    }
    .scout-page #teleop-run ons-input {
        padding: 7px;
        width: 3em;
    }
    .scout-page #teleop-run input:invalid {
      box-shadow: 0 0 5px 1px red;
    }
    .plus, .minus {
        font-size: x-large;
    }
</style>

<script>
    window.fn = {};

    window.fn.toggleMenu = function () {
        document.getElementById('appSplitter').right.toggle();
    };

    window.fn.loadView = function (index) {
        document.getElementById('appTabbar').setActiveTab(index);
        document.getElementById('sidemenu').close();
    };

    window.fn.loadLink = function (url) {
        window.open(url, '_blank');
    };

    window.fn.pushPage = function (page, anim) {
        if (anim) {
            document.getElementById('appNavigator').pushPage(page.id, {data: {title: page.title}, animation: anim});
        } else {
            document.getElementById('appNavigator').pushPage(page.id, {data: {title: page.title}});
        }
    };
</script>

</body>
</html>
